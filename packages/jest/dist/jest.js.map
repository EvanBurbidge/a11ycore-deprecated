{"version":3,"sources":["jest.js"],"names":["axeCore","require","merge","mount","module","exports","runA11yJest","configureA11yJest","html","options","element","restore","Promise","resolve","run","err","results","config","globalOptions","runnerOptions","configure","mergedOptions"],"mappings":"AAAA,a,KACMA,CAAAA,OAAO,CAAGC,OAAO,CAAC,UAAD,C,CACjBC,KAAK,CAAGD,OAAO,CAAC,cAAD,C,CACf,CAAEE,KAAF,EAAYF,OAAO,CAAC,wBAAD,C,CAEzBG,MAAM,CAACC,OAAP,CAAiB,CACfC,WADe,CAEfC,iBAFe,C,CAKjB,QAASD,CAAAA,WAAT,CAAqBE,CAAI,CAAG,EAA5B,CAAgCC,CAAO,CAAG,EAA1C,CAA8C,CAC5C,KAAM,CAACC,CAAD,CAAUC,CAAV,EAAqBR,KAAK,CAACK,CAAD,CAAhC,CACA,MAAO,IAAII,CAAAA,OAAJ,CAAaC,CAAD,EAAa,CAC9Bb,OAAO,CAACc,GAAR,CAAYJ,CAAZ,CAAqBD,CAArB,CAA8B,CAACM,CAAD,CAAMC,CAAN,GAAkB,CAE9C,GADAL,CAAO,EACP,CAAII,CAAJ,CAAS,KAAMA,CAAAA,CAAN,CACTF,CAAO,CAACG,CAAD,CACR,CAJD,CAKD,CANM,CAOR,CAED,QAAST,CAAAA,iBAAT,CAA2BU,CAAM,CAAG,EAApC,CAAwC,CACtC,KAAM,CAAEC,aAAa,CAAbA,CAAa,CAAG,EAAlB,CAAsB,GAAGC,CAAzB,EAA2CF,CAAjD,CAEA,MADAjB,CAAAA,OAAO,CAACoB,SAAR,CAAkBF,CAAlB,CACA,CAAO,SAASV,CAAI,CAAG,EAAhB,CAAoBC,CAAO,CAAG,EAA9B,CAAkC,CACvC,KAAMY,CAAAA,CAAa,CAAGnB,KAAK,CAAC,EAAD,CAAKiB,CAAL,CAAoBV,CAApB,CAA3B,CACA,MAAOH,CAAAA,WAAW,CAACE,CAAD,CAAOa,CAAP,CACnB,CACF","sourcesContent":["\"use strict\";\nconst axeCore = require(\"axe-core\");\nconst merge = require('lodash.merge');\nconst { mount } = require(\"a11ycore-core/src/core\");\n\nmodule.exports = {\n  runA11yJest,\n  configureA11yJest,\n};\n\nfunction runA11yJest(html = '', options = {}) {\n  const [element, restore] = mount(html);\n  return new Promise((resolve) => {\n    axeCore.run(element, options, (err, results) => {\n      restore();\n      if (err) throw err;\n      resolve(results);\n    });\n  });\n}\n\nfunction configureA11yJest(config = {}) {\n  const { globalOptions = {}, ...runnerOptions } = config\n  axeCore.configure(globalOptions);\n  return function(html = '', options = {}) {\n    const mergedOptions = merge({}, runnerOptions, options);\n    return runA11yJest(html, mergedOptions);\n  }\n}"]}